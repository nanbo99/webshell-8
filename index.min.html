<!doctype html><html><head><meta charset="utf-8"><title>Webshell</title><meta name="viewport" content="initial-scale=0.7, user-scalable=no"><style>body{background-color:#e7e8f9}.window{max-width:550px;margin:60px auto 0;padding:0 16px}.menubar{height:20px;padding-left:10px;background-color:#a4a4ae;border-radius:4px 4px 0 0}.button{display:inline-block;height:10px;width:10px;margin:5px 4px 0 0;background-color:#7c7c85;border-radius:50%}.terminal{height:300px;padding:10px;overflow-y:scroll;border-radius:0 0 4px 4px;background-color:#2d2d35;color:#dddddd;font-size:13px;font-family:monospace}.output{margin:0;white-space:pre-wrap}.input{height:14px;width:90%;padding:0;background-color:transparent;border:none;color:inherit;font-family:inherit;font-size:inherit;outline:none}</style></head><body><div class="window"><div class="menubar"><div class="button"></div><div class="button"></div><div class="button"></div></div><div class="terminal" id="terminal"><pre class="output" id="output"></pre>$ <input class="input" id="input" autocapitalize="off" autocorrect="off" autofocus></div></div><script>!function(a,b){b["true"]=a;var c=function(a){this.message=a};c.prototype=new Error;var d=function(){this.fs={bin:{cat:this.cat,cd:this.cd,date:this.date,echo:this.echo,help:this.help,ls:this.ls,pwd:this.pwd,whoami:this.whoami},home:{nick:{"about.txt":"This is a little shell I made in JavaScript. Feel free to have a look around.\n"}},tmp:{}},this.cwd=["home","nick"],this.user="nick",this.history=[]};d.prototype.resolvePath=function(a){var b,c=a.split("/");"/"==a[0]?(b=[],c.shift()):"~"==c[0]?(b=["home","nick"],c.shift()):b=this.cwd.slice(0);for(var d=0;d<c.length;d++)".."==c[d]?b.pop():"."!=c[d]&&""!=c[d]&&b.push(c[d]);return b},d.prototype.getPath=function(a){for(var b=this.fs,d=0;d<a.length;d++)if(b=b[a[d]],void 0===b)throw new c("No such file or directory");return b},d.prototype.cat=function(a){for(var b="",d=1;d<a.length;d++){var e=this.getPath(this.resolvePath(a[d]));if("object"==typeof e)throw new c(a[d]+" is a directory");if("function"==typeof e)throw new c(a[d]+" is a binary file");b+=e}return b},d.prototype.cd=function(a){if(1==a.length)this.cwd=["home","nick"];else{var b=this.resolvePath(a[1]);if("object"!=typeof this.getPath(b))throw new c(a[1]+" is not a directory");this.cwd=b}return""},d.prototype.date=function(a){return new Date},d.prototype.echo=function(a){return a.slice(1).join(" ")},d.prototype.help=function(){return["cat    - Output the contents of a file","cd     - Change directory","date   - Shows the current date","echo   - Outputs whatever is given to it","help   - Display this help dialog","ls     - List a directory","pwd    - Display current directory","whoami - Shows your username"].join("\n")},d.prototype.ls=function(a){var b=this.cwd;a.length>1&&(b=this.resolvePath(a[1]));var c=this.getPath(b);return"object"==typeof c?Object.keys(c).join("\n"):a[1]},d.prototype.pwd=function(){return"/"+this.cwd.join("/")},d.prototype.welcome=function(){return'Welcome! Type "help" to see a list of commands\n'},d.prototype.whoami=function(){return this.user},d.prototype.command=function(a){this.history.unshift(a);var b=a.split(" ");b=b.filter(function(a){return""!=a});try{var d;if(0==b.length)return"";if(void 0!==this.fs.bin[b[0]])d=this.fs.bin[b[0]].bind(this);else{if(-1==b[0].indexOf("/"))throw new c("Command not found");if(d=this.getPath(this.resolvePath(b[0])),"function"!=typeof d)throw new c(b[0]+" is not executable");d=d.bind(this)}var e=d(b);return""!=e&&"\n"!=e[e.length-1]&&(e+="\n"),e}catch(f){return f instanceof c?f.message+"\n":"Error\n"}},window.addEventListener("load",function(){var a=new d,b=document.getElementById("terminal"),c=document.getElementById("output"),e=document.getElementById("input"),f=-1;b.addEventListener("click",function(){e.focus()}),e.addEventListener("keypress",function(d){13==d.keyCode&&(c.textContent+="$ "+e.value+"\n",c.textContent+=a.command(e.value),e.value="",f=-1,b.scrollTop=b.scrollHeight-b.offsetHeight)}),e.addEventListener("keydown",function(b){38==b.keyCode?(f=Math.min(f+1,a.history.length-1),f>=0&&(e.value=a.history[f])):40==b.keyCode&&(f>0?(f-=1,e.value=a.history[f]):0==f&&(e.value=""))}),c.textContent=a.welcome()})}({},function(){return this}());</script></body></html>